<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GT RoboCup SSL: /home/developer/robocup-firmware/kicker/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rj_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GT RoboCup SSL
   </div>
   <div id="projectbrief">Soccer software, robot firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('main_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for main.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c__incl.png" border="0" usemap="#_2home_2developer_2robocup-firmware_2kicker_2main_8c" alt=""/></div>
<map name="_2home_2developer_2robocup-firmware_2kicker_2main_8c" id="_2home_2developer_2robocup-firmware_2kicker_2main_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aaa5be8d6f7b5036a029b96e5c1ec8e17"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aaa5be8d6f7b5036a029b96e5c1ec8e17">MAX_KICK_STRENGTH</a>&#160;&#160;&#160;15.0f</td></tr>
<tr class="separator:aaa5be8d6f7b5036a029b96e5c1ec8e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab16aa8f8eb0cad103fb71ff9eeda2fd4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ab16aa8f8eb0cad103fb71ff9eeda2fd4">MIN_EFFECTIVE_KICK_FET_EN_TIME</a>&#160;&#160;&#160;0.8f</td></tr>
<tr class="separator:ab16aa8f8eb0cad103fb71ff9eeda2fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9fccf82137ab14c5bab5f66e5510de8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ab9fccf82137ab14c5bab5f66e5510de8">MAX_EFFECTIVE_KICK_FET_EN_TIME</a>&#160;&#160;&#160;10.0f</td></tr>
<tr class="separator:ab9fccf82137ab14c5bab5f66e5510de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cec07548a4724c5c59c5389be6abcd2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5cec07548a4724c5c59c5389be6abcd2">KICK_TIME_SLOPE</a>&#160;&#160;&#160;(<a class="el" href="main_8c.html#ab9fccf82137ab14c5bab5f66e5510de8">MAX_EFFECTIVE_KICK_FET_EN_TIME</a> - <a class="el" href="main_8c.html#ab16aa8f8eb0cad103fb71ff9eeda2fd4">MIN_EFFECTIVE_KICK_FET_EN_TIME</a>)</td></tr>
<tr class="separator:a5cec07548a4724c5c59c5389be6abcd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9d18fa660c578cffb46fa36f01bff2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aff9d18fa660c578cffb46fa36f01bff2">STOP_CHARGING_SAFETY_MARGIN_MS</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:aff9d18fa660c578cffb46fa36f01bff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecfadf50a7e629fb6bfc4ca3ca69b196"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aecfadf50a7e629fb6bfc4ca3ca69b196">STOP_FLOW_SAFETY_MARGIN_MS</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:aecfadf50a7e629fb6bfc4ca3ca69b196"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a921db5cfa2cefa516075c09a241eb5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a9a921db5cfa2cefa516075c09a241eb5">CHARGE_TIME_MS</a>&#160;&#160;&#160;2000</td></tr>
<tr class="separator:a9a921db5cfa2cefa516075c09a241eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab23eaf0e85be001a5e48d6e116e69b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aab23eaf0e85be001a5e48d6e116e69b2">TIMER_PER_MS</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:aab23eaf0e85be001a5e48d6e116e69b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc10c8bbf3d3c18ed615f24925bbb10"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aafc10c8bbf3d3c18ed615f24925bbb10">CLK_FREQ</a>&#160;&#160;&#160;8000000</td></tr>
<tr class="separator:aafc10c8bbf3d3c18ed615f24925bbb10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a832db47ea196e728fdd8d474a5a236"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a9a832db47ea196e728fdd8d474a5a236">TIMER_PRESCALE</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a9a832db47ea196e728fdd8d474a5a236"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b8ea09cf8de6316116b383b83b951c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a52b8ea09cf8de6316116b383b83b951c">MS_PER_SECOND</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a52b8ea09cf8de6316116b383b83b951c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9a9b2252a47b6f31eb3878fdde32f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a7d9a9b2252a47b6f31eb3878fdde32f5">MAX_TIMER_FREQ</a>&#160;&#160;&#160;(<a class="el" href="main_8c.html#aafc10c8bbf3d3c18ed615f24925bbb10">CLK_FREQ</a> / <a class="el" href="main_8c.html#a9a832db47ea196e728fdd8d474a5a236">TIMER_PRESCALE</a>)</td></tr>
<tr class="separator:a7d9a9b2252a47b6f31eb3878fdde32f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3899d06c609fae76112f59f92cb2fa63"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a3899d06c609fae76112f59f92cb2fa63">DESIRED_TIMER_FREQ</a>&#160;&#160;&#160;(<a class="el" href="main_8c.html#aab23eaf0e85be001a5e48d6e116e69b2">TIMER_PER_MS</a> * <a class="el" href="main_8c.html#a52b8ea09cf8de6316116b383b83b951c">MS_PER_SECOND</a>)</td></tr>
<tr class="separator:a3899d06c609fae76112f59f92cb2fa63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a804e29086f7b5ff490470b77074874"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a2a804e29086f7b5ff490470b77074874">TIMING_CONSTANT</a>&#160;&#160;&#160;((<a class="el" href="main_8c.html#a7d9a9b2252a47b6f31eb3878fdde32f5">MAX_TIMER_FREQ</a> / <a class="el" href="main_8c.html#a3899d06c609fae76112f59f92cb2fa63">DESIRED_TIMER_FREQ</a>) - 1)</td></tr>
<tr class="separator:a2a804e29086f7b5ff490470b77074874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35d44b31a1648f193364e25767c59bd3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a35d44b31a1648f193364e25767c59bd3">BALL_SENSE_MAX_SAMPLES</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a35d44b31a1648f193364e25767c59bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae371899d58625df50d43939f16966cc3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae371899d58625df50d43939f16966cc3">IS_KICK</a>&#160;&#160;&#160;true</td></tr>
<tr class="separator:ae371899d58625df50d43939f16966cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd0e4ac3c8dd1cc264694381928e2d0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#abd0e4ac3c8dd1cc264694381928e2d0c">IS_CHIP</a>&#160;&#160;&#160;false</td></tr>
<tr class="separator:abd0e4ac3c8dd1cc264694381928e2d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a02fd73d861ef2e4aabb38c0c9ff82947"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a> ()</td></tr>
<tr class="separator:a02fd73d861ef2e4aabb38c0c9ff82947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d15b31f87ddbefcdea5546ee4250b26"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a2d15b31f87ddbefcdea5546ee4250b26">is_kicking</a> ()</td></tr>
<tr class="separator:a2d15b31f87ddbefcdea5546ee4250b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d4f8db41b896b615e70d355cfacf056"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a0d4f8db41b896b615e70d355cfacf056">kick</a> (uint8_t strength, bool is_kick)</td></tr>
<tr class="memdesc:a0d4f8db41b896b615e70d355cfacf056"><td class="mdescLeft">&#160;</td><td class="mdescRight">start the kick FSM for desired strength.  <a href="#a0d4f8db41b896b615e70d355cfacf056">More...</a><br /></td></tr>
<tr class="separator:a0d4f8db41b896b615e70d355cfacf056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae702ed1cac6218459a4450e242b21e6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae702ed1cac6218459a4450e242b21e6f">handle_debug_mode</a> ()</td></tr>
<tr class="separator:ae702ed1cac6218459a4450e242b21e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2017b011897009154e88099ab7e43a65"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a2017b011897009154e88099ab7e43a65">get_voltage</a> ()</td></tr>
<tr class="separator:a2017b011897009154e88099ab7e43a65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a257602aaf496b5bd2d54a23f5d851174"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a257602aaf496b5bd2d54a23f5d851174">try_read_voltage</a> ()</td></tr>
<tr class="separator:a257602aaf496b5bd2d54a23f5d851174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9d7a735441932d098ebfe60559ba10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aab9d7a735441932d098ebfe60559ba10">update_ball_sense</a> ()</td></tr>
<tr class="separator:aab9d7a735441932d098ebfe60559ba10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b188dc3ad96f5f0741a7d2de916212b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a8b188dc3ad96f5f0741a7d2de916212b">charge_caps</a> ()</td></tr>
<tr class="separator:a8b188dc3ad96f5f0741a7d2de916212b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4a30028f5fcf211d1d914e6d73fb75c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#af4a30028f5fcf211d1d914e6d73fb75c">fill_spi_return</a> ()</td></tr>
<tr class="separator:af4a30028f5fcf211d1d914e6d73fb75c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdef7a1fd863a6d3770c1268cb06add3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#acdef7a1fd863a6d3770c1268cb06add3">main</a> ()</td></tr>
<tr class="separator:acdef7a1fd863a6d3770c1268cb06add3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9cad97352f5ba9bbd800446131125a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#af9cad97352f5ba9bbd800446131125a6">ISR</a> (SPI_STC_vect)</td></tr>
<tr class="separator:af9cad97352f5ba9bbd800446131125a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec43762dc86e029b395d4e5819192c2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aec43762dc86e029b395d4e5819192c2d">ISR</a> (TIMER0_COMPA_vect)</td></tr>
<tr class="memdesc:aec43762dc86e029b395d4e5819192c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer interrupt for chipping/kicking - called every millisecond by timer.  <a href="#aec43762dc86e029b395d4e5819192c2d">More...</a><br /></td></tr>
<tr class="separator:aec43762dc86e029b395d4e5819192c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a343cf4964867abd5554c451848c7eaba"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:a6363520f7815118a75cc43fb36fac4ed"><td class="memItemLeft" >&#160;&#160;&#160;volatile int32_t&#160;&#160;&#160;<a class="el" href="main_8c.html#a2e1e42fff0fd538c333a001d4e070e90">stop_charge_phase</a></td></tr>
<tr class="separator:a6363520f7815118a75cc43fb36fac4ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a264c22eccdd8969d6cac87b47148df62"><td class="memItemLeft" >&#160;&#160;&#160;volatile int32_t&#160;&#160;&#160;<a class="el" href="main_8c.html#a8c3e079bed1c7ac64bdfd530d00f421d">flow_phase</a></td></tr>
<tr class="separator:a264c22eccdd8969d6cac87b47148df62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d082d0da76ad2566bd01804ceeb51c3"><td class="memItemLeft" >&#160;&#160;&#160;volatile int32_t&#160;&#160;&#160;<a class="el" href="main_8c.html#a174eb2c9383620acac5e156c3581d51d">stop_flow_phase</a></td></tr>
<tr class="separator:a6d082d0da76ad2566bd01804ceeb51c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6cce3b8c45fa36a85a0c025bd84bfb3"><td class="memItemLeft" >&#160;&#160;&#160;volatile int32_t&#160;&#160;&#160;<a class="el" href="main_8c.html#a6953728e5e26a7e10bde53509a07f3ba">charge_phase</a></td></tr>
<tr class="separator:ac6cce3b8c45fa36a85a0c025bd84bfb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a343cf4964867abd5554c451848c7eaba"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a343cf4964867abd5554c451848c7eaba">time</a> = {-1, -1, -1, -1}</td></tr>
<tr class="separator:a343cf4964867abd5554c451848c7eaba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fdb81046632402c406e430f4dd78114"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:ad4e48d9ffd31e30ffe437b548cd3c3d6"><td class="memItemLeft" >&#160;&#160;&#160;volatile bool&#160;&#160;&#160;<a class="el" href="main_8c.html#a8fbfe0433d85b32cca416e87ff924b20">kick_type_is_kick</a></td></tr>
<tr class="separator:ad4e48d9ffd31e30ffe437b548cd3c3d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0bcf033f072e2f31c56441bd5588a4d"><td class="memItemLeft" >&#160;&#160;&#160;volatile bool&#160;&#160;&#160;<a class="el" href="main_8c.html#a67cc1e0f8d8a27b1fe007b648bbdbadc">kick_immediate</a></td></tr>
<tr class="separator:ae0bcf033f072e2f31c56441bd5588a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50287eb12c07765e0197fecd77da9c4f"><td class="memItemLeft" >&#160;&#160;&#160;volatile bool&#160;&#160;&#160;<a class="el" href="main_8c.html#a5f4efaeda9f764720c248005a0c20211">kick_on_breakbeam</a></td></tr>
<tr class="separator:a50287eb12c07765e0197fecd77da9c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78945a9fbeacbb5469122d13b5b55a6"><td class="memItemLeft" >&#160;&#160;&#160;volatile bool&#160;&#160;&#160;<a class="el" href="main_8c.html#af9d46fcea74d65f3a2ca295bd574e0a0">commanded_charge</a></td></tr>
<tr class="separator:ae78945a9fbeacbb5469122d13b5b55a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b8971a793d7ff5ce33f518bf2069312"><td class="memItemLeft" >&#160;&#160;&#160;volatile uint8_t&#160;&#160;&#160;<a class="el" href="main_8c.html#a09929c9eec637ba28ea43892568cb506">kick_power</a></td></tr>
<tr class="separator:a1b8971a793d7ff5ce33f518bf2069312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fdb81046632402c406e430f4dd78114"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a7fdb81046632402c406e430f4dd78114">command</a> = {false, false, false, false, 0}</td></tr>
<tr class="separator:a7fdb81046632402c406e430f4dd78114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5723c4215dfdf49227fb50e2b1a9d887"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5723c4215dfdf49227fb50e2b1a9d887">current_kick_type_is_kick</a> = true</td></tr>
<tr class="separator:a5723c4215dfdf49227fb50e2b1a9d887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4888c7386cf2db5337c03e337d25549"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ad4888c7386cf2db5337c03e337d25549">current_voltage</a> = 0</td></tr>
<tr class="separator:ad4888c7386cf2db5337c03e337d25549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bf28c414fd1db9d06b79cddbc629cac"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a6bf28c414fd1db9d06b79cddbc629cac">ball_sensed</a> = false</td></tr>
<tr class="separator:a6bf28c414fd1db9d06b79cddbc629cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985287c43a01651e39e8563ed2062d6b"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a985287c43a01651e39e8563ed2062d6b">in_debug_mode</a> = false</td></tr>
<tr class="separator:a985287c43a01651e39e8563ed2062d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01bbd779f25a828ba61d738cfad6bd8e"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a01bbd779f25a828ba61d738cfad6bd8e">charge_allowed</a> = true</td></tr>
<tr class="separator:a01bbd779f25a828ba61d738cfad6bd8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a35d44b31a1648f193364e25767c59bd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35d44b31a1648f193364e25767c59bd3">&#9670;&nbsp;</a></span>BALL_SENSE_MAX_SAMPLES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BALL_SENSE_MAX_SAMPLES&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a921db5cfa2cefa516075c09a241eb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a921db5cfa2cefa516075c09a241eb5">&#9670;&nbsp;</a></span>CHARGE_TIME_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHARGE_TIME_MS&#160;&#160;&#160;2000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aafc10c8bbf3d3c18ed615f24925bbb10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafc10c8bbf3d3c18ed615f24925bbb10">&#9670;&nbsp;</a></span>CLK_FREQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLK_FREQ&#160;&#160;&#160;8000000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3899d06c609fae76112f59f92cb2fa63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3899d06c609fae76112f59f92cb2fa63">&#9670;&nbsp;</a></span>DESIRED_TIMER_FREQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DESIRED_TIMER_FREQ&#160;&#160;&#160;(<a class="el" href="main_8c.html#aab23eaf0e85be001a5e48d6e116e69b2">TIMER_PER_MS</a> * <a class="el" href="main_8c.html#a52b8ea09cf8de6316116b383b83b951c">MS_PER_SECOND</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abd0e4ac3c8dd1cc264694381928e2d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd0e4ac3c8dd1cc264694381928e2d0c">&#9670;&nbsp;</a></span>IS_CHIP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IS_CHIP&#160;&#160;&#160;false</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae371899d58625df50d43939f16966cc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae371899d58625df50d43939f16966cc3">&#9670;&nbsp;</a></span>IS_KICK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IS_KICK&#160;&#160;&#160;true</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5cec07548a4724c5c59c5389be6abcd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cec07548a4724c5c59c5389be6abcd2">&#9670;&nbsp;</a></span>KICK_TIME_SLOPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KICK_TIME_SLOPE&#160;&#160;&#160;(<a class="el" href="main_8c.html#ab9fccf82137ab14c5bab5f66e5510de8">MAX_EFFECTIVE_KICK_FET_EN_TIME</a> - <a class="el" href="main_8c.html#ab16aa8f8eb0cad103fb71ff9eeda2fd4">MIN_EFFECTIVE_KICK_FET_EN_TIME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab9fccf82137ab14c5bab5f66e5510de8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9fccf82137ab14c5bab5f66e5510de8">&#9670;&nbsp;</a></span>MAX_EFFECTIVE_KICK_FET_EN_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_EFFECTIVE_KICK_FET_EN_TIME&#160;&#160;&#160;10.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaa5be8d6f7b5036a029b96e5c1ec8e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa5be8d6f7b5036a029b96e5c1ec8e17">&#9670;&nbsp;</a></span>MAX_KICK_STRENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_KICK_STRENGTH&#160;&#160;&#160;15.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7d9a9b2252a47b6f31eb3878fdde32f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d9a9b2252a47b6f31eb3878fdde32f5">&#9670;&nbsp;</a></span>MAX_TIMER_FREQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_TIMER_FREQ&#160;&#160;&#160;(<a class="el" href="main_8c.html#aafc10c8bbf3d3c18ed615f24925bbb10">CLK_FREQ</a> / <a class="el" href="main_8c.html#a9a832db47ea196e728fdd8d474a5a236">TIMER_PRESCALE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab16aa8f8eb0cad103fb71ff9eeda2fd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab16aa8f8eb0cad103fb71ff9eeda2fd4">&#9670;&nbsp;</a></span>MIN_EFFECTIVE_KICK_FET_EN_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_EFFECTIVE_KICK_FET_EN_TIME&#160;&#160;&#160;0.8f</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a52b8ea09cf8de6316116b383b83b951c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52b8ea09cf8de6316116b383b83b951c">&#9670;&nbsp;</a></span>MS_PER_SECOND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MS_PER_SECOND&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aff9d18fa660c578cffb46fa36f01bff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff9d18fa660c578cffb46fa36f01bff2">&#9670;&nbsp;</a></span>STOP_CHARGING_SAFETY_MARGIN_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STOP_CHARGING_SAFETY_MARGIN_MS&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aecfadf50a7e629fb6bfc4ca3ca69b196"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecfadf50a7e629fb6bfc4ca3ca69b196">&#9670;&nbsp;</a></span>STOP_FLOW_SAFETY_MARGIN_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STOP_FLOW_SAFETY_MARGIN_MS&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aab23eaf0e85be001a5e48d6e116e69b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab23eaf0e85be001a5e48d6e116e69b2">&#9670;&nbsp;</a></span>TIMER_PER_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMER_PER_MS&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a832db47ea196e728fdd8d474a5a236"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a832db47ea196e728fdd8d474a5a236">&#9670;&nbsp;</a></span>TIMER_PRESCALE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMER_PRESCALE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2a804e29086f7b5ff490470b77074874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a804e29086f7b5ff490470b77074874">&#9670;&nbsp;</a></span>TIMING_CONSTANT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMING_CONSTANT&#160;&#160;&#160;((<a class="el" href="main_8c.html#a7d9a9b2252a47b6f31eb3878fdde32f5">MAX_TIMER_FREQ</a> / <a class="el" href="main_8c.html#a3899d06c609fae76112f59f92cb2fa63">DESIRED_TIMER_FREQ</a>) - 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8b188dc3ad96f5f0741a7d2de916212b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b188dc3ad96f5f0741a7d2de916212b">&#9670;&nbsp;</a></span>charge_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void charge_caps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_a8b188dc3ad96f5f0741a7d2de916212b_cgraph.png" border="0" usemap="#main_8c_a8b188dc3ad96f5f0741a7d2de916212b_cgraph" alt=""/></div>
<map name="main_8c_a8b188dc3ad96f5f0741a7d2de916212b_cgraph" id="main_8c_a8b188dc3ad96f5f0741a7d2de916212b_cgraph">
</map>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_a8b188dc3ad96f5f0741a7d2de916212b_icgraph.png" border="0" usemap="#main_8c_a8b188dc3ad96f5f0741a7d2de916212b_icgraph" alt=""/></div>
<map name="main_8c_a8b188dc3ad96f5f0741a7d2de916212b_icgraph" id="main_8c_a8b188dc3ad96f5f0741a7d2de916212b_icgraph">
</map>
</div>

</div>
</div>
<a id="af4a30028f5fcf211d1d914e6d73fb75c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4a30028f5fcf211d1d914e6d73fb75c">&#9670;&nbsp;</a></span>fill_spi_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fill_spi_return </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_af4a30028f5fcf211d1d914e6d73fb75c_icgraph.png" border="0" usemap="#main_8c_af4a30028f5fcf211d1d914e6d73fb75c_icgraph" alt=""/></div>
<map name="main_8c_af4a30028f5fcf211d1d914e6d73fb75c_icgraph" id="main_8c_af4a30028f5fcf211d1d914e6d73fb75c_icgraph">
</map>
</div>

</div>
</div>
<a id="a2017b011897009154e88099ab7e43a65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2017b011897009154e88099ab7e43a65">&#9670;&nbsp;</a></span>get_voltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t get_voltage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_a2017b011897009154e88099ab7e43a65_icgraph.png" border="0" usemap="#main_8c_a2017b011897009154e88099ab7e43a65_icgraph" alt=""/></div>
<map name="main_8c_a2017b011897009154e88099ab7e43a65_icgraph" id="main_8c_a2017b011897009154e88099ab7e43a65_icgraph">
</map>
</div>

</div>
</div>
<a id="ae702ed1cac6218459a4450e242b21e6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae702ed1cac6218459a4450e242b21e6f">&#9670;&nbsp;</a></span>handle_debug_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_debug_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_ae702ed1cac6218459a4450e242b21e6f_cgraph.png" border="0" usemap="#main_8c_ae702ed1cac6218459a4450e242b21e6f_cgraph" alt=""/></div>
<map name="main_8c_ae702ed1cac6218459a4450e242b21e6f_cgraph" id="main_8c_ae702ed1cac6218459a4450e242b21e6f_cgraph">
</map>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_ae702ed1cac6218459a4450e242b21e6f_icgraph.png" border="0" usemap="#main_8c_ae702ed1cac6218459a4450e242b21e6f_icgraph" alt=""/></div>
<map name="main_8c_ae702ed1cac6218459a4450e242b21e6f_icgraph" id="main_8c_ae702ed1cac6218459a4450e242b21e6f_icgraph">
</map>
</div>

</div>
</div>
<a id="a02fd73d861ef2e4aabb38c0c9ff82947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02fd73d861ef2e4aabb38c0c9ff82947">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Input button initialization</p>
<p>SPI initialization</p>
<p>LT3751 initialization</p>
<p>Ball sense initialization</p>
<p>Enable SPI slave</p>
<p>ADC Initialization</p>
<p>Button logic</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_a02fd73d861ef2e4aabb38c0c9ff82947_cgraph.png" border="0" usemap="#main_8c_a02fd73d861ef2e4aabb38c0c9ff82947_cgraph" alt=""/></div>
<map name="main_8c_a02fd73d861ef2e4aabb38c0c9ff82947_cgraph" id="main_8c_a02fd73d861ef2e4aabb38c0c9ff82947_cgraph">
</map>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_a02fd73d861ef2e4aabb38c0c9ff82947_icgraph.png" border="0" usemap="#main_8c_a02fd73d861ef2e4aabb38c0c9ff82947_icgraph" alt=""/></div>
<map name="main_8c_a02fd73d861ef2e4aabb38c0c9ff82947_icgraph" id="main_8c_a02fd73d861ef2e4aabb38c0c9ff82947_icgraph">
</map>
</div>

</div>
</div>
<a id="a2d15b31f87ddbefcdea5546ee4250b26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d15b31f87ddbefcdea5546ee4250b26">&#9670;&nbsp;</a></span>is_kicking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool is_kicking </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_a2d15b31f87ddbefcdea5546ee4250b26_icgraph.png" border="0" usemap="#main_8c_a2d15b31f87ddbefcdea5546ee4250b26_icgraph" alt=""/></div>
<map name="main_8c_a2d15b31f87ddbefcdea5546ee4250b26_icgraph" id="main_8c_a2d15b31f87ddbefcdea5546ee4250b26_icgraph">
</map>
</div>

</div>
</div>
<a id="af9cad97352f5ba9bbd800446131125a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9cad97352f5ba9bbd800446131125a6">&#9670;&nbsp;</a></span>ISR() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype">SPI_STC_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aec43762dc86e029b395d4e5819192c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec43762dc86e029b395d4e5819192c2d">&#9670;&nbsp;</a></span>ISR() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype">TIMER0_COMPA_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer interrupt for chipping/kicking - called every millisecond by timer. </p>
<p>ISR for TIMER 0</p>
<p>Pre and post cool downs add time between kicking and charging</p>
<p>Charging while kicking is destructive to the charging circuitry If no outstanding coutners are running from the timer, the pre, active, post, and cooldown states are all finished. We disable the timer to avoid unnecessary ISR invocations when there's nothing to do. The kick function will reinstate the timer.</p>
<p>TCCR0B: CS00 bit stays at zero When CS01 is also zero, the clk is diabled When CS01 is one, the clk is prescaled by 8 (When CS00 is one, and CS01 is 0, no prescale. We don't use this) </p>
<p>PRE KICKING STATE stop charging wait between stopping charging and kicking for safety</p>
<p>KICKING STATE assert the kick pin, enabling the kick FET wait for kick interval to end</p>
<p>POST KICKING STATE deassert the kick pin, disabling the kick FET wait between stopping the FET and reenabling charging in the next state</p>
<p>POST KICK COOLDOWN enable charging don't allow kicking during the cooldown</p>
<p>IDLE/NOT RUNNING stop timer</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_aec43762dc86e029b395d4e5819192c2d_cgraph.png" border="0" usemap="#main_8c_aec43762dc86e029b395d4e5819192c2d_cgraph" alt=""/></div>
<map name="main_8c_aec43762dc86e029b395d4e5819192c2d_cgraph" id="main_8c_aec43762dc86e029b395d4e5819192c2d_cgraph">
</map>
</div>

</div>
</div>
<a id="a0d4f8db41b896b615e70d355cfacf056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d4f8db41b896b615e70d355cfacf056">&#9670;&nbsp;</a></span>kick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kick </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>strength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_kick</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>start the kick FSM for desired strength. </p>
<p>If the FSM is already running, the call will be ignored. </p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_a0d4f8db41b896b615e70d355cfacf056_cgraph.png" border="0" usemap="#main_8c_a0d4f8db41b896b615e70d355cfacf056_cgraph" alt=""/></div>
<map name="main_8c_a0d4f8db41b896b615e70d355cfacf056_cgraph" id="main_8c_a0d4f8db41b896b615e70d355cfacf056_cgraph">
</map>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_a0d4f8db41b896b615e70d355cfacf056_icgraph.png" border="0" usemap="#main_8c_a0d4f8db41b896b615e70d355cfacf056_icgraph" alt=""/></div>
<map name="main_8c_a0d4f8db41b896b615e70d355cfacf056_icgraph" id="main_8c_a0d4f8db41b896b615e70d355cfacf056_icgraph">
</map>
</div>

</div>
</div>
<a id="acdef7a1fd863a6d3770c1268cb06add3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdef7a1fd863a6d3770c1268cb06add3">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_acdef7a1fd863a6d3770c1268cb06add3_cgraph.png" border="0" usemap="#main_8c_acdef7a1fd863a6d3770c1268cb06add3_cgraph" alt=""/></div>
<map name="main_8c_acdef7a1fd863a6d3770c1268cb06add3_cgraph" id="main_8c_acdef7a1fd863a6d3770c1268cb06add3_cgraph">
</map>
</div>

</div>
</div>
<a id="a257602aaf496b5bd2d54a23f5d851174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a257602aaf496b5bd2d54a23f5d851174">&#9670;&nbsp;</a></span>try_read_voltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void try_read_voltage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_a257602aaf496b5bd2d54a23f5d851174_cgraph.png" border="0" usemap="#main_8c_a257602aaf496b5bd2d54a23f5d851174_cgraph" alt=""/></div>
<map name="main_8c_a257602aaf496b5bd2d54a23f5d851174_cgraph" id="main_8c_a257602aaf496b5bd2d54a23f5d851174_cgraph">
</map>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_a257602aaf496b5bd2d54a23f5d851174_icgraph.png" border="0" usemap="#main_8c_a257602aaf496b5bd2d54a23f5d851174_icgraph" alt=""/></div>
<map name="main_8c_a257602aaf496b5bd2d54a23f5d851174_icgraph" id="main_8c_a257602aaf496b5bd2d54a23f5d851174_icgraph">
</map>
</div>

</div>
</div>
<a id="aab9d7a735441932d098ebfe60559ba10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab9d7a735441932d098ebfe60559ba10">&#9670;&nbsp;</a></span>update_ball_sense()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_ball_sense </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_aab9d7a735441932d098ebfe60559ba10_cgraph.png" border="0" usemap="#main_8c_aab9d7a735441932d098ebfe60559ba10_cgraph" alt=""/></div>
<map name="main_8c_aab9d7a735441932d098ebfe60559ba10_cgraph" id="main_8c_aab9d7a735441932d098ebfe60559ba10_cgraph">
</map>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_aab9d7a735441932d098ebfe60559ba10_icgraph.png" border="0" usemap="#main_8c_aab9d7a735441932d098ebfe60559ba10_icgraph" alt=""/></div>
<map name="main_8c_aab9d7a735441932d098ebfe60559ba10_icgraph" id="main_8c_aab9d7a735441932d098ebfe60559ba10_icgraph">
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6bf28c414fd1db9d06b79cddbc629cac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bf28c414fd1db9d06b79cddbc629cac">&#9670;&nbsp;</a></span>ball_sensed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool ball_sensed = false</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a01bbd779f25a828ba61d738cfad6bd8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01bbd779f25a828ba61d738cfad6bd8e">&#9670;&nbsp;</a></span>charge_allowed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool charge_allowed = true</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6953728e5e26a7e10bde53509a07f3ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6953728e5e26a7e10bde53509a07f3ba">&#9670;&nbsp;</a></span>charge_phase</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int32_t charge_phase</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7fdb81046632402c406e430f4dd78114"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fdb81046632402c406e430f4dd78114">&#9670;&nbsp;</a></span>command</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile { ... }   command</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af9d46fcea74d65f3a2ca295bd574e0a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9d46fcea74d65f3a2ca295bd574e0a0">&#9670;&nbsp;</a></span>commanded_charge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool commanded_charge</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5723c4215dfdf49227fb50e2b1a9d887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5723c4215dfdf49227fb50e2b1a9d887">&#9670;&nbsp;</a></span>current_kick_type_is_kick</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool current_kick_type_is_kick = true</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad4888c7386cf2db5337c03e337d25549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4888c7386cf2db5337c03e337d25549">&#9670;&nbsp;</a></span>current_voltage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t current_voltage = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8c3e079bed1c7ac64bdfd530d00f421d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c3e079bed1c7ac64bdfd530d00f421d">&#9670;&nbsp;</a></span>flow_phase</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int32_t flow_phase</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a985287c43a01651e39e8563ed2062d6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a985287c43a01651e39e8563ed2062d6b">&#9670;&nbsp;</a></span>in_debug_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool in_debug_mode = false</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a67cc1e0f8d8a27b1fe007b648bbdbadc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67cc1e0f8d8a27b1fe007b648bbdbadc">&#9670;&nbsp;</a></span>kick_immediate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool kick_immediate</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5f4efaeda9f764720c248005a0c20211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f4efaeda9f764720c248005a0c20211">&#9670;&nbsp;</a></span>kick_on_breakbeam</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool kick_on_breakbeam</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a09929c9eec637ba28ea43892568cb506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09929c9eec637ba28ea43892568cb506">&#9670;&nbsp;</a></span>kick_power</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t kick_power</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8fbfe0433d85b32cca416e87ff924b20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fbfe0433d85b32cca416e87ff924b20">&#9670;&nbsp;</a></span>kick_type_is_kick</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool kick_type_is_kick</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2e1e42fff0fd538c333a001d4e070e90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e1e42fff0fd538c333a001d4e070e90">&#9670;&nbsp;</a></span>stop_charge_phase</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int32_t stop_charge_phase</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a174eb2c9383620acac5e156c3581d51d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a174eb2c9383620acac5e156c3581d51d">&#9670;&nbsp;</a></span>stop_flow_phase</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int32_t stop_flow_phase</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a343cf4964867abd5554c451848c7eaba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a343cf4964867abd5554c451848c7eaba">&#9670;&nbsp;</a></span>time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile { ... }   time</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_31d95d269f2badd056f2f46135cc8d06.html">kicker</a></li><li class="navelem"><a class="el" href="main_8c.html">main.c</a></li>
    <li class="footer">Generated on Wed May 20 2020 00:35:02 for GT RoboCup SSL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
